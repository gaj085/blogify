<!DOCTYPE html>
<html lang="en">

<head>
  <%- include('./partials/head') %>
    <title>Blogify</title>
</head>

<body>

  <!-- ===== Navbar ===== -->
  <%- include('./partials/nav') %>

    <!-- ===== Main Content ===== -->
    <div class="container py-5">

      <!-- Section Title -->
      <div class="mb-5">
        <h2 class="fw-bold">Latest Posts</h2>
        <hr>
      </div>

      <!-- If No Blogs -->
      <% if (!blogs || blogs.length===0) { %>
        <div class="text-center text-muted">
          <p>No posts published yet.</p>
        </div>
        <% } %>

          <!-- Blog List -->
          <% blogs.forEach(blog=> { %>

            <div class="row mb-5 align-items-center">

              <!-- Blog Image -->
              <div class="col-md-4 mb-3 mb-md-0">
                <img src="<%= blog.coverImageURL %>" class="img-fluid rounded shadow-sm"
                  style="height: 220px; object-fit: cover; width: 100%;" alt="Blog Image">
              </div>

              <!-- Blog Content -->
              <div class="col-md-8">

                <!-- Title -->
                <h4 class="fw-bold">
                  <a href="/blog/<%= blog._id %>" class="text-dark text-decoration-none">
                    <%= blog.title %>
                  </a>
                </h4>

                <!-- Author + Date -->
                <p class="text-muted small mb-2">
                  Published on <%= blog.createdAt.toDateString() %>
                </p>

                <!-- Short Preview (first 150 chars) -->
                <p class="mb-3">
                  <%= blog.body.substring(0, 150) %>...
                </p>

                <!-- Read More Button -->
                <a href="/blog/<%= blog._id %>" class="btn btn-sm btn-outline-dark">
                  Read More
                </a>

              </div>

            </div>

            <hr>

            <% }) %>

    </div>

    <%- include('./partials/scripts') %>

</body>

</html>